
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>ex5</title><meta name="generator" content="MATLAB 9.5"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-05-29"><meta name="DC.source" content="ex5.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>ex5</h1><!--introduction--><!--/introduction--><pre class="codeinput">figure(1);
f=@(x)sin(x);
n=2;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(X,Y,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'g'</span>,<span class="string">'Markersize'</span>,10);
syms <span class="string">x</span>;
df=diff(f(x),x);
df=matlabFunction(df,<span class="string">'vars'</span>,{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
<span class="keyword">for</span> i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
<span class="keyword">end</span>
plot(xgr,S,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'Markersize'</span>,10);
figure(2)
fplot(df,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,ds,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'g'</span>,<span class="string">'Markersize'</span>,10);
figure(3)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,<span class="string">'vars'</span>,{x});
fplot(d2f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,d2s,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
</pre><img vspace="5" hspace="5" src="ex5_01.png" alt=""> <img vspace="5" hspace="5" src="ex5_02.png" alt=""> <img vspace="5" hspace="5" src="ex5_03.png" alt=""> <pre class="codeinput">figure(4);
f=@(x)sin(x);
n=4;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(X,Y,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'Markersize'</span>,10);
syms <span class="string">x</span>;
df=diff(f(x),x);
df=matlabFunction(df,<span class="string">'vars'</span>,{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
<span class="keyword">for</span> i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
<span class="keyword">end</span>
plot(xgr,S,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
figure(5)
fplot(df,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,ds,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
figure(6)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,<span class="string">'vars'</span>,{x});
fplot(d2f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,d2s,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
</pre><img vspace="5" hspace="5" src="ex5_04.png" alt=""> <img vspace="5" hspace="5" src="ex5_05.png" alt=""> <img vspace="5" hspace="5" src="ex5_06.png" alt=""> <pre class="codeinput">figure(7);
f=@(x)sin(x);
n=10;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(X,Y,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'Markersize'</span>,10);
syms <span class="string">x</span>;
df=diff(f(x),x);
df=matlabFunction(df,<span class="string">'vars'</span>,{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
<span class="keyword">for</span> i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
<span class="keyword">end</span>
plot(xgr,S,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
figure(8)
fplot(df,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,ds,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
figure(9)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,<span class="string">'vars'</span>,{x});
fplot(d2f,[-pi/2,pi/2]);
hold <span class="string">on</span>;
grid <span class="string">on</span>;
plot(xgr,d2s,<span class="string">'o'</span>,<span class="string">'MarkerFaceColor'</span>,<span class="string">'b'</span>,<span class="string">'Markersize'</span>,10);
</pre><img vspace="5" hspace="5" src="ex5_07.png" alt=""> <img vspace="5" hspace="5" src="ex5_08.png" alt=""> <img vspace="5" hspace="5" src="ex5_09.png" alt=""> <pre class="codeinput">f=@(x)sin(x);
n=10;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
xgr=linspace(-pi/2,pi/2,100);
[y,ypr,y2pr]=SplCubv(X,Y,dfb,dfa,xgr)
</pre><pre class="codeoutput">
y =

  Columns 1 through 7

   -1.0000   -0.9995   -0.9980   -0.9955   -0.9919   -0.9874   -0.9819

  Columns 8 through 14

   -0.9754   -0.9679   -0.9595   -0.9501   -0.9397   -0.9284   -0.9161

  Columns 15 through 21

   -0.9029   -0.8888   -0.8738   -0.8580   -0.8412   -0.8237   -0.8053

  Columns 22 through 28

   -0.7861   -0.7660   -0.7453   -0.7237   -0.7015   -0.6785   -0.6548

  Columns 29 through 35

   -0.6305   -0.6056   -0.5801   -0.5539   -0.5272   -0.5000   -0.4723

  Columns 36 through 42

   -0.4441   -0.4154   -0.3863   -0.3569   -0.3271   -0.2969   -0.2665

  Columns 43 through 49

   -0.2358   -0.2048   -0.1736   -0.1423   -0.1108   -0.0792   -0.0476

  Columns 50 through 56

   -0.0159    0.0159    0.0476    0.0792    0.1108    0.1423    0.1736

  Columns 57 through 63

    0.2048    0.2358    0.2665    0.2969    0.3271    0.3569    0.3863

  Columns 64 through 70

    0.4154    0.4441    0.4723    0.5000    0.5272    0.5539    0.5801

  Columns 71 through 77

    0.6056    0.6305    0.6548    0.6785    0.7015    0.7237    0.7453

  Columns 78 through 84

    0.7660    0.7861    0.8053    0.8237    0.8412    0.8580    0.8738

  Columns 85 through 91

    0.8888    0.9029    0.9161    0.9284    0.9397    0.9501    0.9595

  Columns 92 through 98

    0.9679    0.9754    0.9819    0.9874    0.9919    0.9955    0.9980

  Columns 99 through 100

    0.9995    1.0000


ypr =

  Columns 1 through 7

    0.0000    0.0319    0.0637    0.0953    0.1267    0.1580    0.1891

  Columns 8 through 14

    0.2201    0.2509    0.2815    0.3120    0.3422    0.3719    0.4011

  Columns 15 through 21

    0.4299    0.4582    0.4861    0.5135    0.5404    0.5669    0.5929

  Columns 22 through 28

    0.6183    0.6430    0.6669    0.6902    0.7127    0.7345    0.7556

  Columns 29 through 35

    0.7760    0.7956    0.8146    0.8327    0.8498    0.8661    0.8815

  Columns 36 through 42

    0.8960    0.9096    0.9223    0.9340    0.9449    0.9549    0.9639

  Columns 43 through 49

    0.9719    0.9788    0.9848    0.9898    0.9938    0.9968    0.9988

  Columns 50 through 56

    0.9998    0.9998    0.9988    0.9968    0.9938    0.9898    0.9848

  Columns 57 through 63

    0.9788    0.9719    0.9639    0.9549    0.9449    0.9340    0.9223

  Columns 64 through 70

    0.9096    0.8960    0.8815    0.8661    0.8498    0.8327    0.8146

  Columns 71 through 77

    0.7956    0.7760    0.7556    0.7345    0.7127    0.6902    0.6669

  Columns 78 through 84

    0.6430    0.6183    0.5929    0.5669    0.5404    0.5135    0.4861

  Columns 85 through 91

    0.4582    0.4299    0.4011    0.3719    0.3422    0.3120    0.2815

  Columns 92 through 98

    0.2509    0.2201    0.1891    0.1580    0.1267    0.0953    0.0637

  Columns 99 through 100

    0.0319   -0.0000


y2pr =

  Columns 1 through 7

    1.0083    1.0033    0.9983    0.9933    0.9883    0.9833    0.9783

  Columns 8 through 14

    0.9734    0.9684    0.9634    0.9575    0.9430    0.9285    0.9141

  Columns 15 through 21

    0.8996    0.8851    0.8707    0.8562    0.8417    0.8273    0.8112

  Columns 22 through 28

    0.7887    0.7661    0.7436    0.7211    0.6985    0.6760    0.6535

  Columns 29 through 35

    0.6309    0.6084    0.5841    0.5557    0.5273    0.4989    0.4706

  Columns 36 through 42

    0.4422    0.4138    0.3854    0.3570    0.3286    0.2990    0.2675

  Columns 43 through 49

    0.2360    0.2046    0.1731    0.1416    0.1101    0.0787    0.0472

  Columns 50 through 56

    0.0157   -0.0157   -0.0472   -0.0787   -0.1101   -0.1416   -0.1731

  Columns 57 through 63

   -0.2046   -0.2360   -0.2675   -0.2990   -0.3286   -0.3570   -0.3854

  Columns 64 through 70

   -0.4138   -0.4422   -0.4706   -0.4989   -0.5273   -0.5557   -0.5841

  Columns 71 through 77

   -0.6084   -0.6309   -0.6535   -0.6760   -0.6985   -0.7211   -0.7436

  Columns 78 through 84

   -0.7661   -0.7887   -0.8112   -0.8273   -0.8417   -0.8562   -0.8707

  Columns 85 through 91

   -0.8851   -0.8996   -0.9141   -0.9285   -0.9430   -0.9575   -0.9634

  Columns 92 through 98

   -0.9684   -0.9734   -0.9783   -0.9833   -0.9883   -0.9933   -0.9983

  Columns 99 through 100

   -1.0033   -1.0083

</pre><p class="footer"><br><a href="https://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2018b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% ex5
%%
figure(1);
f=@(x)sin(x);
n=2;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold on;
grid on;
plot(X,Y,'o','MarkerFaceColor','g','Markersize',10);
syms x;
df=diff(f(x),x);
df=matlabFunction(df,'vars',{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
for i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
end
plot(xgr,S,'o','MarkerFaceColor','r','Markersize',10);
figure(2)
fplot(df,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,ds,'o','MarkerFaceColor','g','Markersize',10);
figure(3)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,'vars',{x});
fplot(d2f,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,d2s,'o','MarkerFaceColor','b','Markersize',10);
%%
figure(4);
f=@(x)sin(x);
n=4;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold on;
grid on;
plot(X,Y,'o','MarkerFaceColor','r','Markersize',10);
syms x;
df=diff(f(x),x);
df=matlabFunction(df,'vars',{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
for i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
end
plot(xgr,S,'o','MarkerFaceColor','b','Markersize',10);
figure(5)
fplot(df,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,ds,'o','MarkerFaceColor','b','Markersize',10);
figure(6)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,'vars',{x});
fplot(d2f,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,d2s,'o','MarkerFaceColor','b','Markersize',10);
%%
figure(7);
f=@(x)sin(x);
n=10;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
fplot(f,[-pi/2,pi/2]);
hold on;
grid on;
plot(X,Y,'o','MarkerFaceColor','r','Markersize',10);
syms x;
df=diff(f(x),x);
df=matlabFunction(df,'vars',{x});
dfa=df(-pi/2);
dfb=df(pi/2);
xgr=linspace(-pi/2,pi/2,100);
for i=1:length(xgr)
    [S(i),ds(i),d2s(i)]=SplCub(X,Y,dfa,dfb,xgr(i));
end
plot(xgr,S,'o','MarkerFaceColor','b','Markersize',10);
figure(8)
fplot(df,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,ds,'o','MarkerFaceColor','b','Markersize',10);
figure(9)
d2f=diff(df(x),x);
d2f=matlabFunction(d2f,'vars',{x});
fplot(d2f,[-pi/2,pi/2]);
hold on;
grid on;
plot(xgr,d2s,'o','MarkerFaceColor','b','Markersize',10);
%%
f=@(x)sin(x);
n=10;
X=linspace(-pi/2,pi/2,n+1);
Y=f(X);
xgr=linspace(-pi/2,pi/2,100);
[y,ypr,y2pr]=SplCubv(X,Y,dfb,dfa,xgr)
##### SOURCE END #####
--></body></html>